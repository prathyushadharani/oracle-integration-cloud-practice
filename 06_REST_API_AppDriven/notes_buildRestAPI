RESTAPI-Video 6
There are two places from where you create integrations in OIC
1) Design->Integrations

  use when: there is only 1 integration team with 4-10 members
            no need of access control
2) Projects

  use when: we have multiple teams and one team should not see other teams integrations
  These teams could be patitioned by country or offering-that doesnt matter
          ex: FIN Cloud, HCM Cloud, SCM cloud
              or UK team, US team, AUS team etc 

The options under Design: Integrations, Connections, Events, Lookups, Libraries(first 5 options) are also present in Projects
But still there are some integration patterns for ex: if we want to use a connectivity agent to talk to on-prem application
Agents are only available under Design
though we can achieve access control with most of the integrations but we cant do with all of them.

some integration patterns like agents are available only under deisgn screen

first usecase: Build REST API

take first name as input of type string
prefix hello
send response as hello firstname

when we build integration we need to follow 7-8 steps . so to understand all the steps lets start with helloworld first.
This is called development workflow : has 6-7 steps ->we would see lots of new screens for the first time in OIC. 
focus on developement workflow.

prerequisite step to do integration is creating required connections.

1) for this usecase: do we need to talk to any external system? NO
only little string transformation and send response

2) after we build this integration(REST API) , should client be able to trigger this rest api? yes
so for this integration we need one connection->we are going to create this connection over REST adapter
Bcoz a trigger connection would determine weather a integration will be exposed as SOAP or REST.

Create a connection with REST Adapter:

1) Go to Projects->Connections->Create Connection->Search REST
Name: PRADH Hello World REST Conn
as we type the name, identifier would be generated automatically.
everything from the name is converted in to caps and all the spaces in the name are converted to underscore in the identifier

whenever you create a connection you need to choose a role for it->this is a important selection that you make
There are 3 options to choose the role:
Trigger
Invoke
Trigger and Invoke

explaining the above options with journal import service as example: so its easier to understand
UG58 Journal import service:
This is the integration we are building for banking client.
assume that its hsbc banking system.
the banking client would trigger the integration from hsbc core banking system

and they would be passing journal payload as input.
after we receive journal payload as input, 
first of all when we build a integration the first connection you use in integration is called trigger connection
its the starting point of integration

another way to look at it is 
there is an incoming payload into oic instance 
ex: hsbc core banking system triggers your integration and passes journal input --
->you can look it as inbound message
its called inbound message coming into oic from outside world

so trigger is a inbound message

After we receive a journal payload what are we going to do?
we are using ERP cloud connection here:
if you hover on the component it shows popup ->the second line tells you which adpater it is

we are using oracle erp cloud adapter to invoke journal import service
so within the integration apart from the trigger connection->any other connection we use in the integration is 
called invoke connection

meaning we use this connection to invoke something in a different application
we call it as invoke connection

what are two ways to explain invoke connection?
apart from the first connection everyother connection in the integration is called invoke connection

another way to look at it is:
it is an outbound message going out from oic to different system

So,
Trigger is a starting point
It is an inbound message-incoming message
Invoke is any other subsequent connection
It is an outbound message-outgoing message

So when you create a connection you need to chose what role you need to assign for the connection:
In our case we want to use PRADH Hello World REST Conn connection as a starting point to trigger my integration

so when we create a connection as trigger we will be able to use it as a first node in any integration

and if I create a connection with role as Invoke 
whenever I create a integration 
click on plus icon ->i cannot see this connection as the first connection/starting node
But once trigger connection is created in integration you could see and use this invoke connection

so trigger means->first node in integration
invoke means->not first node but any other node

so trigger is clear, invoke is clear 

But what about trigger and invoke?
This is where many students are confused.

Before explaining 
Role is something that you choose while you create a connection
after you hit the create button

please note that you wont be able to change the role->point 1
so be careful and ensure you choose right role

point 2: when we create connection we need to ensure to make use of them to the extent possible in the integrations
see connection is something that you create 1 per system

so if you create 100 integrations realted to ERP cloud , how many connections you would create with ERP cloud adapater?
best practice is 1 connection

the job of the connection is to establish the connectivity with the system
once the connectivity  is established with one connection
we would be using the same connection in all the integration flows

so we would create 1 connection with ERP CLoud 1 with HCM cloud and so on ...

so role cannot be changed after we create a connection
also connections should be leveraged accross integrations


lets assume prathyusha is creating integration->lets assume we are building real time integration->
am the first developer to create an ERP related integration and starting off with journal import service

so what are the first steps:

step 1 :
she needs to create a SOAP Trigger connection->assume its already done
we receive journal payload here
step 2: 
second connection we need to create in the integration /service is?
we need to use ERP connection to invoke journal import service in CLoud

assume trigger conn already created
now we are trying to create a ERP connection

and say UG86 ERP Conn

assume ERP Conn and trigger conn are created
assuem we are the first ones to create ERP related integration in proj

what would we use this ERP connection as in this integartion?

want to use this connection to invoke journal import service
also want to invoke import journal CSS job (ERP inetgartion service)

so we want to use ERP connection to invoke couple of services in ERP Cloud
what is the role we need to select?

if we think of this connection from this integration standpoint then which role is ok?
invoke is ok 

so we would create a trigger connection
and now we create ERP connection
and since we need to to invoke couple of services we select role as invoke and we create it
and uses it in the integration

1 week later

say ABC wants to create an other integration and in his usecase he needs to receive the items updates done in ERP Cloud 
and he has to post the item details to on prem database table

so his integration requirement is whenever item is updated in ERP cloud his integration is triggered and 
that item update information should be merged to ATP table

so in this usecase ABC has to use ERP connection as trigger as starting point in integration

and he has to select one option which says: receiveBusinessEventsInERPCloud and he should select itemUpdate unit

when I created this integration I created ERP cloud conn already with ROLE as invoke.
Now will ABC be able to use this connection as first node in his integartion?
No it doesnt show in the drop down

so ABC doesnt have a choice ->if he tries will he be able to change the role of the already created ERP conn i created?
no

so he should create another conn with role trigger or trigger or invoke

so whats the take away:

when you are creating connections with the generic systems like HCM cloud or ERP cloud or salesforce or FTP or database

if you are the first person to craete a conn-> dont just think of the integration you are going tobuild 

we should think->we might use this as invoke in our integration but its erp connection so we might have to use it as trigger as well

so to avoid duplicate connection ->which could be created by ABC 

now DEF might say why not create every connection as trigger and invoke? 
problem is -> we might not have enoough information to plug in that information

The moment you create connction and if you mention you want to use this connection to trigger the integration its fine 
But if you have to use this connection to invoke REST API's , oic  would prompt you 
to enter which REST API do you want to call/invoke with this connection.

Until I mention REST endpoint URL you wont be able to test the connection.

It means that not every connection can be create as Trigger and Invoke
Especially when its REST or SOAP connections we normallay choose individual roles
But whenever we create connections with other systems such as ERP Cloud, salesforce or database
we would always create role as trigger and invoke

so for our integration REST adapter we are gonna choose it as explicit Trigger conn

while creating the connection->keywords and description would help us in searching the connection
by keyword , name or description

the option 'share with other projects' lets discuss after 4-5 sessions.

In one of the sessions lets understand 30 mins to understand it.

The moment you craete REST trigger conn we will be able to see 3 options.

1) Use a shared connection
2) configure a connection ->Security->security policy OAuth 2.0
3) Access Type: Public gateway , Private endpoint

just remeber we have these 3 options. we will discuss it later.

the connection is configured 100%
Test and Save: PRADH_HELLO_WORLD_REST_CONN
now we created a REST trigger connection->go back and see the connection created.


Question:
coming to role trigger and invoke 
is the endpoint url in invoke static? we can update and we should be able to update
but role is somethinng we canjot change

bcoz in dev instance you have dev erp logins
in prod you nee dto change it to prod

so you should be able to change url but not role

now lets create integration:

when we create integartion there are 3 styles to choose from:
application
schdule
event

we would choose application style bcoz client would choose to trigger our integration from another application

same story with name and identifier
you also see version number->in version number we see 3 parts ->major, minor, batch
major and minor are 2 characters long batch is 4 characters long
total 10 chars long with dots

when you are creating integration it would default to 01.00.0000->we would leave it as it.

Lets learn this when we do an administration session toward the end of integration track
learn versioning and cloning of integration and migration


create below conn:
PRADH Hello World REST API

the moment you create integration it prompts you to go ahead build the integration
first thing you see is blank integration and it is prompting to create trigger integration first.

now before we go ahead and build integration lets talk about access control

now say we created this project as prathyusha (like if logged in as prathyusha)
and if you want to see who got access to this integration you goto share button and 
can see prathyusha as the usename in owner field

so you can see it

and am the only person to have acces sto it

if we go ahead and try to login to oic instance not as prathyusha but as user1
go to prjects->his username would be applied as filter i.e user1->remove that filter
he would be able to see UG86 or PRADH
assume user1 is from other team and should not be able to see it

now when he clicks on UG86 he would get an access error saying doesnt have sufficient privileges
But what if user is my teammate or this user should have access to my proj

then you can go to share option and can give different kinf of privileges to the users like
edit , view, monitor privileges

So I can decide what kind of privilege sto give to different users

if I give monitor->then if user is from support team you can give this access
this user trie sto get in ->he would be able to get in but since he is given only monitor access he cannot see design or deploy
but he can only observe it

he cannot design and deploy it

but if that person should be able to see integartion code but should deploy ->in that case we add him view and remove from monitor

now he would be able to see Design tab enabled

now if he tried to open integration he would be able to see it but he can only view it

he cannot make any changes to the integration
bcoz he is given view only access

edit : then he would be able to build integrations, see integrations ,

now there is a possibility that multiple developers might work on the same project at the same time from different locations

say i weant to edit from hyd, abc wants to edit from chennai-> so they might get overridden

to avaoid that OIC would apply lock on it once the integration is opened to edit it

so the other user can see the changes being made by the person who locked it but cant make changes
the other user can see who locked it and when by clicking on the simple dropdown option

the lock gets released when the user comes out of the editor screen by clickling on the back arrow/button->lock will be released

now that lock is released the integration is in draft status now abc can go and edit it

but tell me one thing:

lock gets released when you click on back button but practically do we always click on back button ?
assume its friday evening and in a hurry to leave office and closed browser abruptly
now is the lock released?
no
bcoz i didnt click on back button
now the other developer has to wait
so other developer should ping and ask the delveloper who locked it
now he should release lock and only then other developer can work on it

other person who can unlock it is admin
say user1 locked
user2 wants to unlock
but only user1 or admin can unlock the integration




























