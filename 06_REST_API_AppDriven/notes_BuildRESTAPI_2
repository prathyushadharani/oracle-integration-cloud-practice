REST API-Video 7-Part2 
We created REST API (PRADH Hello World REST API) and we need to configure the trigger node first.
we can see the trigger connection popping up
we need to configure the trigger connection first.

Configure Basic Info:
(REST Trigger)

when we configure the trigger connection it prompts us to give a name to the endpoint.
(What do you want to call your endpoint?
For examplae: GetListOfOpportunitiesForCustomer)

this can be anything like abc
But lets see what our RESTAPI does.
It takes firstName(String) as input, prefix Hello and send it back as response

since it says hello lets name endpoint as 'sayHello'

sayHello

Whenever you build a REST API in OIC remember -from one single REST API that you can build 
you can expose multiple branches or 
you can configure multiple endpoints if required

since this is our first rest api we will not configure multiple branches or multiple endpoints

we will do only 1 operation
But we will notice in integrations like PO REST API (Purchase order rest api-5th integration)
we will see how to expose multiple rest endpoints/multiple operations/multiple branches
from 1 single rest api

just in case we need to have multiple branches in REST API we need to tick 
the box that says 'Select to configure multiple resources or verbs.(maximum 11)

since its our first api lets have only 1 branch and lets configure it as GET endpoint so lets not tick

*provide an operation name
default
we need to think of what would the operation do?
*what does the operation do?
it takes firstname (string) as input , prefix hello and send back in response

whenever we are building a restapi what are the 2 important things we need to consider?
lets go to documentation url of rest api and see
ex: banks ->get all banks-> method :GET ; Path: /fscmRestApi/resources/11.13.18.05/cashBanks

so there are two things: method and Path


*what is the endpoints relative resource URI?
/sayHello

this is nothing but the relative path that we see in the documentation of rest api
so after we put a slash we can mention any path that we want like /abc
but better give a meaningful path so lets say /sayHello

*what action do you want to perform at the endpoint?
GET (many methods -GET, PUT, POST,DELETE,PATCH)

the above are the methods we can choose from but we will chose GET here bcoz
all client would be doing is when they would hit the endpoint
pass in first name as input and want to get back a response
since they pass first name and get back output
within this rest api we are not doing any creation or any update operation
in which case we would use POST or PATCH method


now what is the input we want to receive?
firstname:

what is one way to recive inputs into REST API's?
1. Template Parameters

ex: 
Get a bank
Method: GET
Path: /fscmRestApi/resources/11.13.18.05/cashBanks/{BankPartyId}

so here we mention input parameter in curly braces in the relative resource URI path

*what is the endpoints relative resource URI?
/sayHello/{firstName}

what if we want to receive lastname also as parameter then we would add as following:
/sayHello/{firstName}/{lastName}

now when we mention template parameters like this in the relative path
like fn and ln
and go to next screen by clicking on continue
we will be able to see 
ignore query parameters for now
lets focus on template parameters

we will be able to see Template parameters section
(this section is not visible if template parameters are not mentioned in relative URI path)

in template parameters we see firstname and lastname
(whatever is mentioned in curly braces)

in this section we see that string datatype is assigned
we can change the datatype

for query parameters you can explicitly add /delete query parameters but
there is no option like that for template parameters

so how many ever you mention in the path those many will be created under
template parameter section by default

so what we see in template parameter section would be controlled by what we mentioned in the path

go to next screen

lets see how will the end point look like if below is the realtive path->
/sayhello/{firstname}/{lastname}

the moment you activate the rest api there will be an endpoint url generated->
that url looks like below:

https://unogeeksprodoic-idud9bfrw0-ia.integration.us-ashburn-1.ocp.oraclecloud.com/ -OIC Instance link
ic/api/integration/v2/flows/rest - common suffix->prefix to all rest api's
/project/UG86/UG86_HELLO_WORLD_REST_API -/project/projectname/project identifier or short name
/1.0/sayHello/{firstName}/{lastName} - version number within integration/whatever relative path we mention will show at the end of url


when we share this endpoint url with client , client will trigger the rest api
with the help of the endpoint url and since we have firstname and lastname 
as template parameters the client would be passing them in the url as below:

https://unogeeksprodoic-idud9bfrw0-ia.integration.us-ashburn-1.ocp.oraclecloud.com/
ic/api/integration/v2/flows/rest
/project/UG86/UG86_HELLO_WORLD_REST_API
/1.0/sayHello/John/Doe


2nd way of passing parameters to rest api is take out template parameters

in configure request parameters screen if we dont mention anything in curly braces
in resource uri path
do we see any template parameters in next screen? NO
the template parameters section itself is missing

but we can add query parameters
but we need to add them explicitly
select datatype

ex: fName -string
lName-string

now when we activate the integration we will only have below as url:

https://unogeeksprodoic-idud9bfrw0-ia.integration.us-ashburn-1.ocp.oraclecloud.com/
ic/api/integration/v2/flows/rest
/project/UG86/UG86_HELLO_WORLD_REST_API
/1.0/sayHello

no parameters 

now below is the format in which client can pass the query parameters

https://unogeeksprodoic-idud9bfrw0-ia.integration.us-ashburn-1.ocp.oraclecloud.com/
ic/api/integration/v2/flows/rest
/project/UG86/UG86_HELLO_WORLD_REST_API
/1.0/sayHello?q=fName=Sachin&lName=Tendulkar

query parameters should be passed in above format particulaly
questionmark q eualsto firstparameter name & second parameter name and pass values

question?

when to use template? when to use query?

lets take banks rest api as example and understand
when we recive an input into your rest api and if that input parameter is a 
primary key
and when you hit the database you get only one record
then you create it as template parameter

ex: to get bank details
oracle configured bankpartyid as primary key

/facesRestApi/resources/11.13.10.05/cashBanks/{BankPartyId}

so since BankPartyId is primary key we only get 1 record from database
-configure as template parameter

But if you want to get bank details based on country or other criteria
wherein you might get multiple banks 
we need to use query parameter

bcoz in one country there could be many banks


so 1 question that we need to ask is 
the input that you got will fetch one record or multiple records from database
if 1- template parameters
if multiple-query parameters

ex: if we are building a purchase order (PO) REST API -> 
and in this rest api you will expose 1 rest endpoint to create a purchase order in cloud
so client would hit this endpoint, pass in PO Details and in that branch
we write logic to create PO in ERP Cloud and get PO header Id and other details back in response

now lets say client wants you to expose 2 more endpoints

and say in first endpoint we will send PO header ID as input
now we should go to the PO header table and get PO header ID, details from there
or give PO header ID and get details related to it from database table

remember PO Header ID is a primary key
now what do you configure it as? template or query?

template parameter

now say client wants one more get endpoint and the client says
I will pass in buyer name as input or supplier name as input 
Client wants to get all the purchase orders(POs) of that supplier 
or created by buyer

there could be multiple PO's created against that supplier or created by 
the buyer

in this case how do we create input parameter i.e supplier or buyer?

query parameters





















